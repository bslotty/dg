<div class="row justify-content-between align-items-center no-gutters">
	<div class="col">
		<h4>Set the Start Time</h4>
	</div>

	<div class="col-xs">
		<a mat-flat-button color="transparent-primary" (click)="close()">
			<span class="icon-x"></span>
		</a>
	</div>
</div>


<form [formGroup]='form'>
	<div class="row justify-content-between align-items-end">
		<div class="col">
			<mat-form-field>
				<mat-label matPrefix class="mr-2">Date</mat-label>
				<input matInput [matDatepicker]="datePicker" placeholder="mm/dd/yyyy" formControlName='date'
					(focus)="datePicker.open()" type="text">

				<div matSuffix>
					<a mat-flat-button color="transparent-primary" (click)="datePicker.open()">
						<span class='icon-calendar'></span>
					</a>
				</div>

				<mat-datepicker #datePicker startView="month" [startAt]="form.get('date').value" touchUi="true">
				</mat-datepicker>

				<mat-error *ngIf="form.get('date').touched && form.get('date').invalid">
					Invalid Date
				</mat-error>
			</mat-form-field>
		</div>


		<div class="col">
			<mat-form-field>
				<mat-label matPrefix class="mr-2">Time</mat-label>
				<input matInput [ngxTimepicker]="timePicker" placeholder="hh:mm AM/PM" formControlName='time'
					type="text">

				<div matSuffix>
					<a mat-flat-button color="transparent-primary" (click)="timePicker.open()">
						<span class="icon-clock"></span>
					</a>
				</div>

				<ngx-material-timepicker #timePicker minutesGap=5 disableAnimation="true">
				</ngx-material-timepicker>

				<mat-error *ngIf="form.get('time').touched && form.get('time').invalid">
					Invalid Time
				</mat-error>
			</mat-form-field>
		</div>

	</div>
</form>

<div class="row justify-content-end align-items-center no-gutters">
	<div class="col text-right">
		<a mat-raised-button class="btn" color="primary" (click)="setTime()" 
		[disabled]="form.get('time').invalid || form.get('date').invalid || form.get('time').untouched || form.get('date').untouched || form.disabled">Set Start Time</a>
	</div>
</div>