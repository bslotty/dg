<form [formGroup]='form' [@flyIn]>

  <!--  Format  -->
  <div>
    <div class="row justify-content-between align-items-end no-gutters">
      <h6 class="col sub-header ml">Format</h6>

      <div class="col-xs" *ngIf="form.get('format').value">
        <a mat-flat-button color="transparent-primary" (click)="selectFormat()">
          <span class="icon-edit-2"></span>
        </a>
      </div>
    </div>

    <div *ngIf="form.get('format').value; else pickFormat"
      class="row justify-content-between align-items-center no-gutters panel" @flyIn>
      <div class="col ml">
        <p>{{ form.get('format').value.name }}</p>
      </div>

      <div class="col-xs">
        <a mat-flat-button disabled color="" matTooltip="{{ form.get('format').value.desc }}">
          <span class="icon-help-circle"></span>
        </a>
      </div>
    </div>

    <ng-template #pickFormat>
      <div class="row justify-content-center align-items-center no-gutters">
        <div class="col">
          <a mat-stroked-button class="btn btn-block btn-lg" color="accent" (click)="selectFormat()">Set Match
            Format</a>
        </div>
      </div>

    </ng-template>
  </div>




  <!--  Course  -->
  <div>
    <div class="row justify-content-between align-items-end no-gutters">
      <h6 class="col sub-header ml">Course</h6>
      <div class="col-xs" *ngIf="form.get('course').value">
        <a mat-flat-button color="transparent-primary" (click)="selectCourse()">
          <span class="icon-edit-2"></span>
        </a>
      </div>
    </div>

    <div [@flyIn] *ngIf="form.get('course').value; else pickCourse">
      <course-list-item [course]='form.get("course").value' mode='list' backdrop="true"></course-list-item>
    </div>

    <ng-template #pickCourse>
      <div class="row justify-content-center align-items-center no-gutters">
        <div class="col">
          <a mat-stroked-button class="btn btn-block btn-lg" color="accent" (click)="selectCourse()">Select Course</a>
        </div>
      </div>

    </ng-template>

  </div>





  <!--  Time  -->
  <div>
    <div class="row justify-content-between align-items-end no-gutters">
      <h6 class="col sub-header ml">Time</h6>
      <div class="col-xs" *ngIf="form.get('date').value">
        <a mat-flat-button color="transparent-primary" (click)="selectTime()">
          <span class="icon-edit-2"></span>
        </a>
      </div>
    </div>
    <div @flyIn *ngIf="form.get('date').value && form.get('time').value; else pickTime"
      class="row justify-content-between align-items-center no-gutters panel">
      <div class="col ml">
        <p>{{ form.get('date').value | date:"EEE MMM d"  }} at {{ form.get('time').value }}</p>
      </div>
    </div>


    <ng-template #pickTime>
      <div class="row justify-content-center align-items-center no-gutters">
        <div class="col">
          <a mat-stroked-button class="btn btn-block btn-lg" color="accent" (click)="selectTime()">Set Start Time</a>
        </div>
      </div>

    </ng-template>
  </div>



  <!--  Players  -->
  <div>
    <div class="row justify-content-between align-items-end no-gutters">
      <h6 class="col sub-header ml">Players</h6>

      <div class="col-xs" *ngIf="form.get('scores').value.length > 0; else pickPlayers">
        <a *ngIf="sessions_.teamGame()" mat-flat-button color="transparent-accent"
          (click)="addTeam()">
          <label><span class="icon-plus"></span> Team</label>
        </a>

        <a mat-flat-button color="transparent-primary" (click)="selectPlayers()">
          <span class="icon-edit-2"></span>
        </a>
      </div>
    </div>

    <ng-template #pickPlayers>
      <div class="row justify-content-center align-items-center no-gutters">
        <div class="col">
          <a mat-stroked-button class="btn btn-block btn-lg" color="accent" (click)="selectPlayers()">Add Players</a>
        </div>
      </div>
    </ng-template>

    <div *ngIf="sessions_.teamGame(); else scoreList">
      <team-select></team-select>
    </div>
    <ng-template #scoreList>
      <score-list></score-list>
    </ng-template>
    
  </div>


</form>


<div class="row no-gutters justify-content-stretch align-items-center mt-3 mb-5">

  <div class="col">
    <a mat-raised-button color="primary" class="btn btn-lg btn-block" (click)="sessions_.submitCreation()"
      [disabled]="!sessions_.ReadyForSubmission()">
      <label>Create</label>
    </a>
  </div>
</div>