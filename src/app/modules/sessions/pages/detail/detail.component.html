<!--  Format  -->
<div class="row justify-content-between align-items-end no-gutters">
  <h6 class="col sub-header ml">Format</h6>
  <div class="col-xs" *ngIf="form.get('format').value">
    <a mat-flat-button color="transparent-primary" (click)="clearFormat()">
      <span class="icon-edit-2"></span>
    </a>
  </div>
</div>
<div class="row justify-content-between align-items-center no-gutters panel" @flyIn>
  <div class="col ml">
    <p>{{ form.get('format').value.name }}</p>
  </div>

  <div class="col-xs">
    <a mat-flat-button disabled color="" matTooltip="{{ form.get('format').value.desc }}">
      <span class="icon-help-circle"></span>
    </a>
  </div>
</div>



<!--  Course  -->
<div class="row justify-content-between align-items-end no-gutters">
  <h6 class="col sub-header ml">Course</h6>
  <div class="col-xs" *ngIf="form.get('course').value">
    <a mat-flat-button color="transparent-primary" (click)="clearCourse()">
      <span class="icon-edit-2"></span>
    </a>
  </div>
</div>

<div @flyIn *ngIf="form.get('course').value">
  <course-list-item [course]='form.get("course").value' mode='list' backdrop='true'></course-list-item>
</div>



<!--  Date  -->
<div class="row justify-content-between align-items-end no-gutters">
  <h6 class="col sub-header ml">Time</h6>
  <div class="col-xs" *ngIf="form.get('date').value">
    <a mat-flat-button color="transparent-primary" (click)="clearTime()">
      <span class="icon-edit-2"></span>
    </a>
  </div>
</div>
<div class="row justify-content-between align-items-center no-gutters panel">
  <div class="col ml">
    <p>{{ form.get('date').value | date:"EEE MMM d"  }} at {{ form.get('time').value }}</p>
  </div>
</div>


<!--  Roster  -->
<div *ngIf="!_sessionsForm.teamGame">
  <div class="row justify-content-between align-items-end no-gutters">
    <h6 class="col sub-header ml">Roster</h6>
    <div class="col-xs" *ngIf="form.get('date').value">
      <a mat-flat-button color="transparent-primary" (click)="clearRoster()">
        <span class="icon-edit-2"></span>
      </a>
    </div>
  </div>

  <div class="row justify-content-center align-items-start no-gutters" @flyIn>
    <div class="col-12">
      <score-list-item *ngFor="let player of _scores.scores$ | async" [score]="player" [mode]="playerModes" backdrop='true'>
      </score-list-item>
    </div>
  </div>
</div>

<div *ngIf="_sessionsForm.teamGame && (_scores.teams$ | async)">
  <div *ngFor="let team of _scores.teams$ | async; let i = index" @flyIn>

    <div class="row justify-content-between align-items-end no-gutters">
      <h6 class="col sub-header ml teamHeader {{ team.color.name }}">{{ team.name | titlecase }}</h6>
      <div class="col-xs" *ngIf="form.get('date').value">
        <a mat-flat-button color="transparent-{{ team.color.name }}" (click)="clearRoster()">
          <span class="icon-edit-2"></span>
        </a>
      </div>
    </div>

    <div *ngIf="_scores.roster$ | async as roster" class="row justify-content-center align-items-center no-gutters"
      @flyIn>
      <div class="col-12">
        <score-list-item *ngFor="let player of roster[i]" [score]="player" [mode]="playerModes" backdrop='true'
          (action)="scoreAction($event)"></score-list-item>
      </div>

    </div>
  </div>






  <div *ngIf="mode == 'edit'">
    <div class="col">
      <a mat-raised-button color="warn" class="btn btn-lg btn-block" (click)="_sessionsForm.submitCreation()"
        [disabled]="!_sessionsForm.ReadyForSubmission()">
        <label>Delete</label>
      </a>
    </div>

    <div class="col">
      <a mat-raised-button color="primary" class="btn btn-lg btn-block" (click)="_sessionsForm.submitCreation()"
        [disabled]="!_sessionsForm.ReadyForSubmission()">
        <label>Play</label>
      </a>
    </div>
  </div>



  <ng-template #loader>
    <loader></loader>
  </ng-template>